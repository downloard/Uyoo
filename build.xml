<project default="deploy">
	
	<property name="dirBin" value="./antbuild" />
	<property name="dirDeploy" value="./deploy" />
	<property name="dirResources" value="resources" />
	
	<target name="clean">
		<delete>
			<fileset dir="${dirBin}" />
			<fileset dir="${dirDeploy}" />
		</delete>
	</target>
	
	<target name="compile" depends="clean">
		<mkdir dir="${dirBin}" />
		<javac srcdir="./src" destdir="${dirBin}" />
	</target>
	
	<target name="deploy" depends="compile">
		
		<property name="version.num" value="0.01" />
		<buildnumber file="build.num" />
				
		<jar destfile="${dirDeploy}/uyoo.jar">
			<fileset dir="${dirBin}" />
			<manifest>
                <attribute name="Main-Class" value="uyoo.Uyoo"/>
				<attribute name="Implementation-Version" 
				           value="${version.num} (Build ${build.number})"/> 
            </manifest>
		</jar>
		
		<mkdir dir="${dirDeploy}/${dirResources}" />
		<copy tofile="${dirDeploy}/${dirResources}/settings.xml">        
            <file file="${dirResources}/settings.xml" />
        </copy >
	</target>
</project>